<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ìŠ¤íŒŒì´ë¥¼ ì°¾ì•„ë¼! ë…ë„í¸</title>
<style>
  body {
    margin: 0;
    padding: 0;
    text-align: center;
    background: url('images/beach_background.png') no-repeat center center/cover;
    font-family: 'Arial', sans-serif;
  }
  h1 {
    margin-top: 20px;
    color: #004b87;
    background-color: rgba(255,255,255,0.7);
    display: inline-block;
    padding: 10px 20px;
    border-radius: 20px;
  }
  #startBtn, #replayBtn {
    margin: 15px;
    padding: 15px 30px;
    font-size: 20px;
    background-color: #004b87;
    color: white;
    border: none;
    border-radius: 15px;
    cursor: pointer;
    transition: transform 0.2s;
  }
  #startBtn:hover, #replayBtn:hover {
    transform: scale(1.05);
  }
  .sea-lions {
    display: flex;
    justify-content: center;
    align-items: flex-end;
    height: 70vh;
    gap: 80px;
    margin-top: 30px;
  }
  .sea-lion {
    position: relative;
    cursor: pointer;
    transition: transform 0.3s;
  }
  .sea-lion:hover {
    transform: scale(1.05);
  }

  /* í”ë“¤ë¦¼ ì• ë‹ˆë©”ì´ì…˜ */
  @keyframes talking {
    0% { transform: translateY(0); }
    25% { transform: translateY(-5px); }
    50% { transform: translateY(0); }
    75% { transform: translateY(5px); }
    100% { transform: translateY(0); }
  }

  /* ë¨¸ë¦¬ ìœ„ ìŒí‘œ í‘œì‹œ */
  .note {
    position: absolute;
    top: -100px;
    left: 50%;
    transform: translateX(-50%) scale(0);
    font-size: 30px;
    color: #ffdd57;
    opacity: 0;
    transition: transform 0.3s, opacity 0.3s;
  }
  .note.show {
    transform: translateX(-50%) scale(1.2);
    opacity: 1;
    animation: pop 0.3s forwards;
  }
  @keyframes pop {
    0% { transform: translateX(-50%) scale(0); opacity: 0; }
    50% { transform: translateX(-50%) scale(1.3); opacity: 1; }
    100% { transform: translateX(-50%) scale(1); opacity: 1; }
  }

  /* ì»¤ìŠ¤í…€ íŒì—…: ê° sea-lion ë‚´ë¶€ì—ì„œ ì¤‘ì•™ ì •ë ¬, ë¨¸ë¦¬ ìœ„ë¡œ í‘œì‹œ */
  .popup {
    position: absolute;
    left: 50%;   /* ì¶”ê°€: ê°€ìš´ë° ì •ë ¬ ê¸°ì¤€ */
    top: 0;      /* ì¶”ê°€: sealì˜ topì„ ê¸°ì¤€ìœ¼ë¡œ ë¨¸ë¦¬ ìœ„ë¡œ ì´ë™í•˜ë„ë¡ í•¨ */
    transform: translate(-50%, -100%) scale(0);
    transition: transform 0.4s ease;
    pointer-events: none;
  }
  .popup.show {
    transform: translate(-50%, -120%) scale(1); /* ë¨¸ë¦¬ ìœ„ì—ì„œ ì¡°ê¸ˆ ë” ìœ„ë¡œ(ì–¼êµ´ ì•ˆ ê°€ë¦¬ê¸°) */
  }
</style>
</head>

<body>
  <h1>ğŸ¦­ ìŠ¤íŒŒì´ë¥¼ ì°¾ì•„ë¼! ë…ë„í¸</h1>

  <button id="startBtn">ê²Œì„ ì‹œì‘</button>
  <button id="replayBtn" style="display:none;">ì „ì²´ ë‹¤ì‹œ ë“£ê¸° ğŸ”</button>

  <div class="sea-lions">
    <!-- ë°”ë‹¤ì‚¬ì 1 -->
    <div class="sea-lion" id="seal1">
      <div class="note" id="note1">â™ª</div>
      <img src="images/seal1.png" width="250">
      <img class="popup" id="fail1" src="images/fail.png" width="200" alt="fail1">
    </div>

    <!-- ë°”ë‹¤ì‚¬ì 2 -->
    <div class="sea-lion" id="seal2">
      <div class="note" id="note2">â™ª</div>
      <img src="images/seal2.png" width="250">
      <img class="popup" id="success" src="images/correct.png" width="200" alt="success">
    </div>

    <!-- ë°”ë‹¤ì‚¬ì 3 -->
    <div class="sea-lion" id="seal3">
      <div class="note" id="note3">â™ª</div>
      <img src="images/seal3.png" width="250">
      <img class="popup" id="fail3" src="images/fail.png" width="200" alt="fail3">
    </div>
  </div>

  <!-- ì†Œë¦¬ -->
  <audio id="voice1" src="sounds/dokdo1.mp3"></audio>
  <audio id="voice2" src="sounds/takeshima.mp3"></audio>
  <audio id="voice3" src="sounds/dokdo2.mp3"></audio>

  <audio id="successSound" src="sounds/success.mp3"></audio>
  <audio id="failSound" src="sounds/fail.mp3"></audio>
  <audio id="backgroundMusic" src="sounds/background.mp3" loop></audio>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const backgroundMusic = document.getElementById("backgroundMusic");
      backgroundMusic.volume = 0.12; // ê·¸ëŒ€ë¡œ ìœ ì§€

      function showTalking(sealNum) {
        const seal = document.getElementById(`seal${sealNum}`);
        const voice = document.getElementById(`voice${sealNum}`);
        const note = document.getElementById(`note${sealNum}`);

        seal.style.animation = "talking 0.6s infinite";

        // ìŒí‘œ 1ì´ˆ ëŠ¦ê²Œ ë‚˜íƒ€ë‚˜ê²Œ í•˜ê³ , ì¶©ë¶„íˆ ìœ ì§€ë˜ë„ë¡ ì œê±°ì‹œê°„ ëŠ˜ë¦¼
        setTimeout(() => note.classList.add("show"), 1000);

        voice.currentTime = 0;
        voice.play();

        // ìŒí‘œ ì œê±°ëŠ” 1ì´ˆ í›„(=í‘œì‹œëœ ë’¤ 1ì´ˆ ìœ ì§€). (ê¸°ì¡´ì—ëŠ” ë™ì‹œì— ì¶”ê°€/ì œê±°ë˜ëŠ” ë²„ê·¸ê°€ ìˆì—ˆìŠµë‹ˆë‹¤)
        setTimeout(() => {
          note.classList.remove("show");
          seal.style.animation = "";
        }, 2000);
      }

      function playSequence() {
        setTimeout(() => showTalking(1), 500);
        setTimeout(() => showTalking(2), 2000);
        setTimeout(() => showTalking(3), 3500);
      }

      function startGame() {
        // ë°°ê²½ìŒì•…ì€ ì‚¬ìš©ìì˜ í´ë¦­(ë²„íŠ¼) ì‹œ ì¬ìƒ -> ë¸Œë¼ìš°ì € ìë™ì¬ìƒ ì •ì±… íšŒí”¼
        backgroundMusic.currentTime = 0;
        backgroundMusic.play().catch(()=>{}); // ì•ˆì „í•˜ê²Œ ì‹œë„

        document.getElementById('startBtn').style.display = 'none';
        document.getElementById('replayBtn').style.display = 'inline-block';
        playSequence();
      }

      document.getElementById('startBtn').onclick = startGame;
      document.getElementById('replayBtn').onclick = playSequence;

      // ì„±ê³µ/ì‹¤íŒ¨ í´ë¦­ ì´ë²¤íŠ¸ (íŒì—…ì€ ê° seal ë‚´ë¶€ì— ìˆìœ¼ë¯€ë¡œ ìœ„ì¹˜ëŠ” í•­ìƒ ë¨¸ë¦¬ ìœ„ ì¤‘ì•™)
      document.getElementById("seal2").onclick = function() {
        this.querySelector("img").src = "images/spy_seal2.png";
        const popup = document.getElementById("success");
        popup.classList.add("show");
        document.getElementById("successSound").currentTime = 0;
        document.getElementById("successSound").play();
        setTimeout(() => popup.classList.remove("show"), 3000);
      };

      document.getElementById("seal1").onclick = function() {
        const popup = document.getElementById("fail1");
        popup.classList.add("show");
        document.getElementById("failSound").currentTime = 0;
        document.getElementById("failSound").play();
        setTimeout(() => popup.classList.remove("show"), 3000);
      };

      document.getElementById("seal3").onclick = function() {
        const popup = document.getElementById("fail3");
        popup.classList.add("show");
        document.getElementById("failSound").currentTime = 0;
        document.getElementById("failSound").play();
        setTimeout(() => popup.classList.remove("show"), 3000);
      };
    });
  </script>
</body>
</html>



